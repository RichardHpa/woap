(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,a,t){e.exports=t.p+"static/media/woap19-logo.3c90ae3e.svg"},29:function(e,a,t){e.exports=t(71)},34:function(e,a,t){},35:function(e,a,t){},52:function(e,a,t){},69:function(e,a,t){},70:function(e){e.exports=[{featureType:"administrative",elementType:"labels",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"landscape",stylers:[{color:"#27ae60"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#95a5a6"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#3498db"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}]},71:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(13),r=t.n(i),s=(t(34),t(7)),c=t(8),o=t(10),d=t(9),m=t(2),u=t(11),v=t(27),p=t.n(v),E=(t(35),t(28)),h=t.n(E),f=(t(52),t(4)),g=t(5),y=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(d.a)(a).call(this,e))).state={loaded:!1,imgLoaded:!1},t.closeInfo=t.closeInfo.bind(Object(m.a)(t)),t.handleImageLoad=t.handleImageLoad.bind(Object(m.a)(t)),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.currentEvent!==e.currentEvent&&(this.setState({imgLoaded:!1,loaded:!0}),null===this.props.currentEvent&&this.setState({loaded:!1,imgLoaded:!1}))}},{key:"handleImageLoad",value:function(){this.setState({imgLoaded:!0})}},{key:"renderMoreInfo",value:function(){var e=this.props,a=e.currentEvent,t=e.currentView,n=this.state.imgLoaded,i={backgroundImage:"url("+a.eventDetails.image+")"};return"burger"===t?l.a.createElement("div",{className:"eventDetails"},l.a.createElement("h2",null,a.eventDetails.name_of_burger," - $",a.eventDetails.burger_price),l.a.createElement("h3",null,a.venueDetails.title),a.eventDetails.image?l.a.createElement("div",{className:"mainImage ".concat(n?"imageLoaded":""),style:i},n?"":l.a.createElement("div",{className:"lds-spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),l.a.createElement("img",{src:a.eventDetails.image,className:"imgSrc",onLoad:this.handleImageLoad})):"",l.a.createElement("p",null,a.eventDetails.burger_description),l.a.createElement("p",null,a.venueDetails.address1,", ",a.venueDetails.address2)):"dine"===t?l.a.createElement("div",{className:"eventDetails"},l.a.createElement("h2",null,a.venueDetails.title),a.eventDetails.image?l.a.createElement("div",{className:"mainImage ".concat(n?"imageLoaded":""),style:i},n?"":l.a.createElement("div",{className:"lds-spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),l.a.createElement("img",{src:a.eventDetails.image,className:"imgSrc",onLoad:this.handleImageLoad})):"",l.a.createElement("p",null,a.eventDetails.festival_dish_description),l.a.createElement("p",null,a.venueDetails.address1,", ",a.venueDetails.address2)):"events"===t?l.a.createElement("div",{className:"eventDetails"},l.a.createElement("h2",null,a.eventDetails.title),l.a.createElement("h3",null,a.venueDetails.title),a.eventDetails.image?l.a.createElement("div",{className:"mainImage ".concat(n?"imageLoaded":""),style:i},n?"":l.a.createElement("div",{className:"lds-spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),l.a.createElement("img",{src:a.eventDetails.image,className:"imgSrc",onLoad:this.handleImageLoad})):"",l.a.createElement("p",null,a.eventDetails.short_description),l.a.createElement("p",null,a.venueDetails.address1,", ",a.venueDetails.address2)):"cocktail"===t?l.a.createElement("div",{className:"eventDetails"},l.a.createElement("h2",null,a.eventDetails.title," - $",a.eventDetails.price_of_cocktail_tapas_match),l.a.createElement("h3",null,a.venueDetails.title),a.eventDetails.image?l.a.createElement("div",{className:"mainImage ".concat(n?"imageLoaded":""),style:i},n?"":l.a.createElement("div",{className:"lds-spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),l.a.createElement("img",{src:a.eventDetails.image,className:"imgSrc",onLoad:this.handleImageLoad})):"",l.a.createElement("p",null,a.eventDetails.description_of_cocktail_and_regionally_inspired_tapas_match),l.a.createElement("p",null,a.venueDetails.address1,", ",a.venueDetails.address2)):void 0}},{key:"closeInfo",value:function(){this.setState({loaded:!1,imgLoaded:!1}),this.props.closeEvent()}},{key:"render",value:function(){var e=this.props.currentEvent,a=this.state.loaded;return l.a.createElement("div",{className:"infoSidebar ".concat(a?"InfoOpen":"")},l.a.createElement("div",{className:"backArrow",onClick:this.closeInfo},l.a.createElement(f.a,{icon:g.a,size:"2x"})),e?this.renderMoreInfo():"")}}]),a}(n.Component),k=t(14),b=(t(69),t(70)),D=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(d.a)(a).call(this,e))).displayMarkers=function(){var e=t.state.activeMarker;t.props.currentEvent;return t.state.markers.map(function(a,n){var i="/markers/"+t.state.currentType+"Marker.png";return e&&e.id===a.id&&(i="/markers/selectedMarker.png"),l.a.createElement(k.Marker,{key:n,id:a.id,icon:{url:i},position:{lat:a.lat,lng:a.lng},onClick:t.onMarkerClick})})},t.state={zoom:12,mapLocation:{lat:-41.2865,lng:174.7762},markers:[],currentType:"",activeMarker:null},t.onMarkerClick=t.onMarkerClick.bind(Object(m.a)(t)),t.onMapClicked=t.onMapClicked.bind(Object(m.a)(t)),t.mapReady=t.mapReady.bind(Object(m.a)(t)),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({markers:this.props.currentMarkers,currentType:this.props.currentView})}},{key:"componentDidUpdate",value:function(e){this.props.currentView!==e.currentView&&this.setState({markers:this.props.currentMarkers,currentType:this.props.currentView,activeMarker:null})}},{key:"shouldComponentUpdate",value:function(e,a){return this.state.zoom!==a.zoom||this.state.mapLocation!==a.mapLocation||this.state.currentType!==e.currentView}},{key:"onMarkerClick",value:function(e,a,t){for(var n=this.state.markers,l=e.id,i=0;i<n.length;i++)if(n[i].id===l){this.props.selectedMarker(n[i]),this.setState({zoom:15,mapLocation:a.position,activeMarker:a});break}}},{key:"onMapClicked",value:function(){this.props.mapClick()}},{key:"mapReady",value:function(){this.props.mapReady()}},{key:"render",value:function(){var e=this.state,a=e.zoom,t=e.mapLocation;return l.a.createElement(k.Map,{google:this.props.google,initialCenter:t,center:t,zoom:a,minZoom:10,styles:b,onClick:this.onMapClicked,onReady:this.mapReady},this.displayMarkers())}}]),a}(n.Component),M=Object(k.GoogleApiWrapper)({apiKey:"AIzaSyAz3aIGADUMweodEJhRzDi-evUay7h9jIA"})(D),C=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(d.a)(a).call(this,e))).state={appLoaded:!1,eventsLoaded:!1,navVisibile:!1,navOpen:!1,allEvents:[],currentView:"burger",currentEvent:null},t.handleMapReady=t.handleMapReady.bind(Object(m.a)(t)),t.toggleNav=t.toggleNav.bind(Object(m.a)(t)),t.handleSelectMarker=t.handleSelectMarker.bind(Object(m.a)(t)),t.handleMapClick=t.handleMapClick.bind(Object(m.a)(t)),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://visawoap.com/api/venues/page:1/limit:1000/.json?key=4e44f1ac85cd60e3caa56bfd4afb675e").then(function(a){for(var t=[],n=0;n<a.data.venues.length;n++)a.data.venues[n].Event.length>0&&t.push(a.data.venues[n]);for(var l={events:[],burger:[],dine:[],cocktail:[]},i=1,r=0;r<t.length;r++)for(var s=t[r],c=0;c<s.Event.length;c++){var o=s.Venue.ll.split(","),d=s.Event[c],m={id:i,venueDetails:s.Venue,eventDetails:d,lat:parseFloat(o[0]),lng:parseFloat(o[1])},u=parseInt(m.eventDetails.event_type_id);29===u?l.events.push(m):30===u?l.burger.push(m):31===u?l.dine.push(m):32===u&&l.cocktail.push(m),i++}e.setState({allEvents:l,eventsLoaded:!0})})}},{key:"handleMapReady",value:function(){console.log("ready"),this.setState({appLoaded:!0,navVisibile:!0})}},{key:"changeView",value:function(e){this.setState({currentView:e,currentEvent:null})}},{key:"toggleNav",value:function(){this.setState(function(e){return{navOpen:!e.navOpen}})}},{key:"handleSelectMarker",value:function(e){this.setState({currentEvent:e})}},{key:"handleMapClick",value:function(){this.setState({currentEvent:null})}},{key:"render",value:function(){var e=this.state,a=e.appLoaded,t=e.navOpen,n=e.navVisibile,i=e.allEvents,r=e.currentView,s=e.currentEvent,c=e.eventsLoaded;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header ".concat(a?"":"App-Loading")},l.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"})),l.a.createElement("div",{className:"hamburgerContainer ".concat(n?"":"hidden")},l.a.createElement("div",{id:"nav-icon3",onClick:this.toggleNav,className:t?"open":""},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{className:"sidebar ".concat(t?"sidebar-open":"")},l.a.createElement("div",{className:"filters"},l.a.createElement("div",{className:"festivalCatsContainer"},l.a.createElement("div",{className:"festivalCats events ".concat("events"===r?"active":""),onClick:this.changeView.bind(this,"events")},l.a.createElement(f.a,{icon:g.c})," Events"),l.a.createElement("div",{className:"festivalCats dine ".concat("dine"===r?"active":""),onClick:this.changeView.bind(this,"dine")},l.a.createElement(f.a,{icon:g.e})," Dine"),l.a.createElement("div",{className:"festivalCats burger ".concat("burger"===r?"active":""),onClick:this.changeView.bind(this,"burger")}," ",l.a.createElement(f.a,{icon:g.d})," Burger"),l.a.createElement("div",{className:"festivalCats cocktail ".concat("cocktail"===r?"active":""),onClick:this.changeView.bind(this,"cocktail")},l.a.createElement(f.a,{icon:g.b})," Cocktails"))),l.a.createElement(y,{currentEvent:s,currentView:r,closeEvent:this.handleMapClick})),l.a.createElement("div",{id:"Map"},c?l.a.createElement(M,{currentView:this.state.currentView,currentMarkers:i[r],selectedMarker:this.handleSelectMarker,mapClick:this.handleMapClick,mapReady:this.handleMapReady}):""))}}]),a}(n.Component);r.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.dd982ff4.chunk.js.map